{"ast":null,"code":"import _regeneratorRuntime from \"/home/ritakosk/fso/bloglist-frontend/bloglist-frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ritakosk/fso/bloglist-frontend/bloglist-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nvar baseUrl = '/api/blogs';\nvar token = null;\n\nvar getAll = function getAll() {\n  var request = axios.get(baseUrl);\n  return request.then(function (response) {\n    return response.data;\n  });\n};\n\nvar setToken = function setToken(newToken) {\n  token = \"bearer \".concat(newToken);\n};\n\nvar create =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(newBlog) {\n    var config, response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            config = {\n              headers: {\n                'Authorization': token\n              }\n            };\n            _context.next = 3;\n            return axios.post(baseUrl, newBlog, config);\n\n          case 3:\n            response = _context.sent;\n            return _context.abrupt(\"return\", response.data);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function create(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar update =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(updatedBlog, id) {\n    var config, response;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            config = {\n              headers: {\n                'Authorization': token\n              }\n            };\n            _context2.next = 3;\n            return axios.put(\"\".concat(baseUrl, \"/\").concat(id), updatedBlog, config);\n\n          case 3:\n            response = _context2.sent;\n            return _context2.abrupt(\"return\", response.data);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function update(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar remove =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3(id) {\n    var config, response;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            config = {\n              headers: {\n                'Authorization': token\n              }\n            };\n            _context3.next = 3;\n            return axios.delete(\"\".concat(baseUrl, \"/\").concat(id), config);\n\n          case 3:\n            response = _context3.sent;\n            return _context3.abrupt(\"return\", response.data);\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function remove(_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default {\n  getAll: getAll,\n  create: create,\n  setToken: setToken,\n  update: update,\n  remove: remove\n};","map":{"version":3,"sources":["/home/ritakosk/fso/bloglist-frontend/bloglist-frontend/src/services/blogs.js"],"names":["axios","baseUrl","token","getAll","request","get","then","response","data","setToken","newToken","create","newBlog","config","headers","post","update","updatedBlog","id","put","remove","delete"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,OAAO,GAAG,YAAhB;AAEA,IAAIC,KAAK,GAAG,IAAZ;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,MAAMC,OAAO,GAAGJ,KAAK,CAACK,GAAN,CAAUJ,OAAV,CAAhB;AACA,SAAOG,OAAO,CAACE,IAAR,CAAa,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAb;AAAA,GAArB,CAAP;AACD,CAHD;;AAKA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,QAAD,EAAc;AAC7BR,EAAAA,KAAK,oBAAaQ,QAAb,CAAL;AACD,CAFD;;AAIA,IAAMC,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,YAAAA,MADO,GACE;AACbC,cAAAA,OAAO,EAAE;AAAE,iCAAiBZ;AAAnB;AADI,aADF;AAAA;AAAA,mBAKUF,KAAK,CAACe,IAAN,CAAWd,OAAX,EAAoBW,OAApB,EAA6BC,MAA7B,CALV;;AAAA;AAKPN,YAAAA,QALO;AAAA,6CAMNA,QAAQ,CAACC,IANH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAANG,MAAM;AAAA;AAAA;AAAA,GAAZ;;AASA,IAAMK,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,kBAAOC,WAAP,EAAoBC,EAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AACPL,YAAAA,MADO,GACE;AACbC,cAAAA,OAAO,EAAE;AAAE,iCAAiBZ;AAAnB;AADI,aADF;AAAA;AAAA,mBAKUF,KAAK,CAACmB,GAAN,WAAalB,OAAb,cAAwBiB,EAAxB,GAA8BD,WAA9B,EAA2CJ,MAA3C,CALV;;AAAA;AAKPN,YAAAA,QALO;AAAA,8CAMNA,QAAQ,CAACC,IANH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAANQ,MAAM;AAAA;AAAA;AAAA,GAAZ;;AASA,IAAMI,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,kBAAOF,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACPL,YAAAA,MADO,GACE;AACbC,cAAAA,OAAO,EAAE;AAAE,iCAAiBZ;AAAnB;AADI,aADF;AAAA;AAAA,mBAKUF,KAAK,CAACqB,MAAN,WAAgBpB,OAAhB,cAA2BiB,EAA3B,GAAiCL,MAAjC,CALV;;AAAA;AAKPN,YAAAA,QALO;AAAA,8CAMNA,QAAQ,CAACC,IANH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAANY,MAAM;AAAA;AAAA;AAAA,GAAZ;;AASA,eAAe;AAAEjB,EAAAA,MAAM,EAANA,MAAF;AAAUQ,EAAAA,MAAM,EAANA,MAAV;AAAkBF,EAAAA,QAAQ,EAARA,QAAlB;AAA4BO,EAAAA,MAAM,EAANA,MAA5B;AAAoCI,EAAAA,MAAM,EAANA;AAApC,CAAf","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`\n}\n\nconst create = async (newBlog) => {\n  const config = {\n    headers: { 'Authorization': token}\n  }\n\n  const response = await axios.post(baseUrl, newBlog, config)\n  return response.data\n}\n\nconst update = async (updatedBlog, id) => {\n  const config = {\n    headers: { 'Authorization': token }\n  }\n\n  const response = await axios.put(`${baseUrl}/${id}`, updatedBlog, config)\n  return response.data\n}\n\nconst remove = async (id) => {\n  const config = {\n    headers: { 'Authorization': token }\n  }\n\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\n  return response.data\n}\n\nexport default { getAll, create, setToken, update, remove }"]},"metadata":{},"sourceType":"module"}